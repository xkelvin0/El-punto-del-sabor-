document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".precio-comprar button").forEach(t=>{t.textContent="Ver más detalles";const e=t.closest(".card");if(e){const i=e.getAttribute("onclick");if(i){const e=i.match(/id=([^']+)/);if(e&&e[1]){const i=e[1];t.onclick=function(t){t.stopPropagation(),window.location.href=`producto-detalle.html?id=${i}`},"Comprar"===t.textContent.trim()&&(t.textContent="Ver más detalles")}}}});const t=document.querySelector(".back-to-top");if(t){function e(){return document.documentElement.scrollHeight<=window.innerHeight+100?window.scrollY>50:window.scrollY>300}window.addEventListener("scroll",()=>{e()?(t.style.display="flex",t.style.opacity="1",t.style.visibility="visible"):(t.style.opacity="0",t.style.visibility="hidden")}),e()&&(t.style.display="flex",t.style.opacity="1",t.style.visibility="visible"),t.addEventListener("click",t=>{t.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})}),t.style.display="flex",t.style.opacity="0",t.style.visibility="hidden",t.style.transition="opacity 0.3s ease, visibility 0.3s ease"}});