let minPrice=0,maxPrice=100;function actualizarRangoPrecios(){const e=document.querySelectorAll(".price-slider"),t=document.querySelectorAll(".input-group input"),n=document.querySelector(".slider-track");if(0===e.length||0===t.length||!n)return;let o=parseInt(e[0].value),r=parseInt(e[1].value);if(r-o<10)e[0]===document.activeElement?e[0].value=r-10:e[1].value=o+10;else{t[0].value=o,t[1].value=r,n.style.left=o/e[0].max*100+"%",n.style.right=100-r/e[1].max*100+"%";const l=document.getElementById("priceRange");l&&(l.textContent=`S/ ${o} - S/ ${r}`)}}function aplicarTodosLosFiltros(){const e=document.querySelectorAll(".card"),t=parseInt(document.getElementById("minPrice").value)||0,n=parseInt(document.getElementById("maxPrice").value)||100;if(void 0!==window.currentSearchTerm&&void 0!==window.currentCategory){const o=window.currentSearchTerm||"",r=window.currentCategory||"all";let l=!1;e.forEach(e=>{const a=e.querySelector("h4").textContent.toLowerCase(),c=e.getAttribute("data-category")||"platos",i=e.querySelector(".precio-comprar span");let s=0;if(i){const e=i.textContent.replace("S/ ","").replace(",","");s=parseFloat(e)||0}a.includes(o)&&("all"===r||c===r)&&(s>=t&&s<=n)?(e.classList.remove("hidden"),l=!0):e.classList.add("hidden")});const a=document.getElementById("noResults");if(l)a&&a.remove();else if(!a){const e=document.createElement("p");e.id="noResults",e.textContent="No se encontraron platos que coincidan con los filtros aplicados.",e.style.textAlign="center",e.style.margin="20px 0",e.style.color="#666",document.querySelector(".menu").appendChild(e)}}}document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll(".price-slider"),t=document.querySelectorAll(".input-group input");e.length>0&&e.forEach(e=>{e.addEventListener("input",()=>{actualizarRangoPrecios(),aplicarTodosLosFiltros()})}),t.length>0&&t.forEach(n=>{n.addEventListener("input",n=>{let o=parseInt(t[0].value)||0,r=parseInt(t[1].value)||100;r-o>=10&&r<=100&&(n.target===t[0]?(e[0].value=o,actualizarRangoPrecios()):(e[1].value=r,actualizarRangoPrecios())),aplicarTodosLosFiltros()})})});