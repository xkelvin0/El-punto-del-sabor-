let minPrice=0,maxPrice=100;function actualizarRangoPrecios(){const e=document.querySelectorAll(".price-slider"),t=document.querySelectorAll(".input-group input"),a=document.querySelector(".slider-track");if(0===e.length||0===t.length||!a)return;let n=parseInt(e[0].value),l=parseInt(e[1].value);n=Math.min(Math.max(n,0),100),l=Math.min(Math.max(l,0),100),t[0].value=n,t[1].value=l,a.style.left=n/100*100+"%",a.style.right=100-l/100*100+"%";const r=document.getElementById("priceRange");r&&(r.textContent=`S/ ${n} - S/ ${l}`),aplicarTodosLosFiltros()}function aplicarTodosLosFiltros(){const e=document.querySelectorAll(".card"),t=parseInt(document.getElementById("minPrice").value)||0,a=parseInt(document.getElementById("maxPrice").value)||100,n=(window.currentSearchTerm||"").toLowerCase(),l=window.currentCategory||"all";let r=!1;e.forEach(e=>{const o=e.querySelector("h4").textContent.toLowerCase(),c=e.getAttribute("data-category")||"platos",i=parseFloat(e.getAttribute("data-price"))||0;o.includes(n)&&("all"===l||c===l)&&(i>=t&&i<=a)?(e.classList.remove("hidden"),r=!0):e.classList.add("hidden")});const o=document.getElementById("noResults");if(r)o&&o.remove();else if(!o){const e=document.createElement("p");e.id="noResults",e.textContent="No se encontraron platos que coincidan con los filtros aplicados.",e.style.textAlign="center",e.style.margin="20px 0",e.style.color="#666",document.querySelector(".menu").appendChild(e)}}document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll(".price-slider"),t=document.querySelectorAll(".input-group input");e.length>0&&e.forEach((t,a)=>{t.addEventListener("input",t=>{let a=parseInt(e[0].value),n=parseInt(e[1].value);t.target===e[0]?(n-a<5&&(e[0].value=n-5),a<0&&(e[0].value=0)):t.target===e[1]&&(n-a<5&&(e[1].value=a+5),n>100&&(e[1].value=100)),actualizarRangoPrecios()})}),t.length>0&&t.forEach((a,n)=>{a.addEventListener("input",a=>{let l=parseInt(t[0].value)||0,r=parseInt(t[1].value)||100;isNaN(l)&&(l=0),isNaN(r)&&(r=100),l=Math.min(Math.max(l,0),99),r=Math.min(Math.max(r,1),100),0===n?r-l<5&&(l=r-5,l<0&&(l=0),t[0].value=l):r-l<5&&(r=l+5,r>100&&(r=100),t[1].value=r),e[0].value=l,e[1].value=r,actualizarRangoPrecios()})}),actualizarRangoPrecios()});