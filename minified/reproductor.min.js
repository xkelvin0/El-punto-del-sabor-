document.addEventListener("DOMContentLoaded",()=>{console.log("ðŸŽµ Script del reproductor cargado correctamente");const e=document.getElementById("bgMusic"),t=document.getElementById("playPauseBtn"),n=document.getElementById("prevTrackBtn"),c=document.getElementById("nextTrackBtn"),a=document.getElementById("muteBtn"),r=document.getElementById("volumeSlider"),i=document.querySelector(".track-time"),o=document.querySelector(".track-title"),d=document.getElementById("trackSelector"),s=(document.querySelector(".progress-bar"),'<i class="fas fa-play"></i>'),u='<i class="fas fa-pause"></i>',l='<i class="fas fa-volume-up"></i>',m='<i class="fas fa-volume-mute"></i>',p=[{title:"MÃºsica China 1",src:"audio/china-chinese-asian-music-346568.mp3"},{title:"MÃºsica China 2",src:"audio/asian-china-chinese-music-347990.mp3"},{title:"MÃºsica China 3",src:"audio/china-green-tea-380502.mp3"},{title:"MÃºsica China 4",src:"audio/china-china-chinese-asian-music-277936.mp3"}];let h=!1,g=0;function v(n){g=n<0?p.length-1:n>=p.length?0:n;const c=p[g];e.src=c.src,o.textContent=c.title,d&&(d.value=g),h&&e.play().then(()=>{h=!0,t.innerHTML=u}).catch(e=>{console.warn("No se pudo reproducir automÃ¡ticamente:",e),h=!1,t.innerHTML=s})}function E(e){const t=Math.floor(e/60),n=Math.floor(e%60);return`${t}:${n<10?"0":""}${n}`}t?.addEventListener("click",function(){e&&t&&(e.paused?(e.src||v(0),e.play().then(()=>{h=!0,t.innerHTML=u}).catch(t=>{console.error("Error al reproducir:",t),e.src||(v(0),e.play().catch(console.error))})):(e.pause(),h=!1,t.innerHTML=s))}),n?.addEventListener("click",()=>v(g-1)),c?.addEventListener("click",()=>v(g+1)),r?.addEventListener("input",t=>{const n=t.target.value;e.volume=n,a.innerHTML=0==n?m:l}),a?.addEventListener("click",()=>{e.muted=!e.muted,a.innerHTML=e.muted?m:l}),e?.addEventListener("timeupdate",function(){e.readyState>0&&i&&(i.textContent=`${E(e.currentTime)} / ${E(e.duration)}`)}),e?.addEventListener("ended",()=>v(g+1)),d?.addEventListener("change",e=>{v(parseInt(e.target.value))}),e.volume=.5,v(0),console.log("âœ… Reproductor inicializado correctamente")});